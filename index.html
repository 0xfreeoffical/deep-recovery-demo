<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Aura — Deep Recovery Pad</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden;background:#000;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;color:#fff;-webkit-tap-highlight-color:transparent;user-select:none}
#app{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}

/* Stars */
#stars{position:fixed;inset:0;pointer-events:none;z-index:0}

/* Top label */
.top-label{position:absolute;top:max(env(safe-area-inset-top,20px),28px);font-size:10px;letter-spacing:.3em;text-transform:uppercase;color:rgba(255,255,255,.35);font-family:'SF Mono',SFMono-Regular,'Courier New',monospace;z-index:2}

/* Title */
.title{font-size:42px;font-weight:200;letter-spacing:.06em;margin-bottom:32px;z-index:2;opacity:.92}

/* Orb container */
.orb-wrap{position:relative;width:260px;height:260px;display:flex;align-items:center;justify-content:center;z-index:1}

/* The blob layers */
.blob-container{position:absolute;width:100%;height:100%;filter:blur(18px) contrast(1.4)}
.blob-layer{position:absolute;border-radius:50%;will-change:border-radius,transform}
.blob-core{width:55%;height:55%;top:22.5%;left:22.5%;background:radial-gradient(circle,#2dd4bf 0%,#0d9488 60%,transparent 100%)}
.blob-mid{width:75%;height:75%;top:12.5%;left:12.5%;background:radial-gradient(circle,rgba(20,184,166,.5) 0%,rgba(239,68,68,.45) 50%,transparent 100%);mix-blend-mode:screen}
.blob-outer{width:100%;height:100%;top:0;left:0;background:radial-gradient(circle,rgba(239,68,68,.3) 20%,rgba(249,115,22,.5) 55%,rgba(220,38,38,.25) 75%,transparent 100%)}
.blob-glow{position:absolute;width:130%;height:130%;top:-15%;left:-15%;border-radius:50%;background:radial-gradient(circle,transparent 35%,rgba(239,68,68,.18) 55%,transparent 75%);pointer-events:none;filter:blur(10px)}

/* Orb overlay text */
.orb-text{position:absolute;font-size:11px;letter-spacing:.28em;text-transform:uppercase;color:rgba(255,255,255,.7);font-weight:300;z-index:3;pointer-events:none;text-align:center}

/* Button */
.cta-btn{margin-top:40px;padding:14px 36px;border:1px solid rgba(255,255,255,.15);border-radius:50px;background:rgba(255,255,255,.08);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);color:rgba(255,255,255,.85);font-size:12px;letter-spacing:.22em;text-transform:uppercase;font-weight:400;cursor:pointer;z-index:2;transition:background .3s,border-color .3s;outline:none;font-family:inherit}
.cta-btn:active{background:rgba(255,255,255,.15)}

/* Sub text */
.sub-text{margin-top:16px;font-size:10px;letter-spacing:.12em;color:rgba(255,255,255,.25);z-index:2;text-align:center;min-height:14px}

/* Blob morphing animations */
@keyframes morph1{
0%{border-radius:60% 40% 30% 70%/60% 30% 70% 40%}
25%{border-radius:40% 60% 70% 30%/70% 40% 30% 60%}
50%{border-radius:30% 60% 70% 40%/50% 60% 30% 60%}
75%{border-radius:55% 35% 50% 50%/40% 55% 45% 60%}
100%{border-radius:60% 40% 30% 70%/60% 30% 70% 40%}
}
@keyframes morph2{
0%{border-radius:50% 50% 40% 60%/55% 45% 55% 45%}
33%{border-radius:65% 35% 55% 45%/45% 55% 40% 60%}
66%{border-radius:35% 65% 45% 55%/60% 40% 55% 45%}
100%{border-radius:50% 50% 40% 60%/55% 45% 55% 45%}
}
@keyframes morph3{
0%{border-radius:45% 55% 60% 40%/50% 50% 45% 55%}
50%{border-radius:55% 45% 35% 65%/60% 40% 60% 40%}
100%{border-radius:45% 55% 60% 40%/50% 50% 45% 55%}
}
.blob-core{animation:morph1 8s ease-in-out infinite}
.blob-mid{animation:morph2 10s ease-in-out infinite}
.blob-outer{animation:morph3 12s ease-in-out infinite}

@keyframes breathe{
0%,100%{transform:scale(1)}
50%{transform:scale(1.03)}
}
.orb-wrap{animation:breathe 5s ease-in-out infinite}
</style>
</head>
<body>
<canvas id="stars"></canvas>
<div id="app">
  <div class="top-label">DAILY RITUAL</div>
  <div class="title">Aura</div>
  <div class="orb-wrap" id="orbWrap">
    <div class="blob-glow" id="blobGlow"></div>
    <div class="blob-container" id="blobContainer">
      <div class="blob-layer blob-outer" id="blobOuter"></div>
      <div class="blob-layer blob-mid" id="blobMid"></div>
      <div class="blob-layer blob-core" id="blobCore"></div>
    </div>
    <div class="orb-text" id="orbText">RE-CALIBRATING</div>
  </div>
  <button class="cta-btn" id="ctaBtn">ACTIVATE FIELD</button>
  <div class="sub-text" id="subText"></div>
</div>

<script>
// Stars
(function(){
  const c=document.getElementById('stars'),ctx=c.getContext('2d');
  let stars=[];
  function resize(){c.width=innerWidth;c.height=innerHeight;init()}
  function init(){
    stars=[];
    for(let i=0;i<120;i++) stars.push({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*.8+.2,a:Math.random()*.4+.1,d:Math.random()*Math.PI*2,s:Math.random()*.15+.05});
  }
  function draw(){
    ctx.clearRect(0,0,c.width,c.height);
    stars.forEach(s=>{
      s.x+=Math.cos(s.d)*s.s*.15;
      s.y+=Math.sin(s.d)*s.s*.15;
      if(s.x<0)s.x=c.width;if(s.x>c.width)s.x=0;
      if(s.y<0)s.y=c.height;if(s.y>c.height)s.y=0;
      ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
      ctx.fillStyle=`rgba(255,255,255,${s.a})`;ctx.fill();
    });
    requestAnimationFrame(draw);
  }
  resize();draw();
  addEventListener('resize',resize);
})();

// Audio
let audioCtx,osc,gain;
function startAudio(){
  if(audioCtx)return;
  audioCtx=new(window.AudioContext||window.webkitAudioContext)();
  osc=audioCtx.createOscillator();gain=audioCtx.createGain();
  osc.type='sine';osc.frequency.value=136.1;
  gain.gain.value=0;
  osc.connect(gain);gain.connect(audioCtx.destination);
  osc.start();
}

// State machine
let state='initial'; // initial | syncing | active
const btn=document.getElementById('ctaBtn');
const orbText=document.getElementById('orbText');
const subText=document.getElementById('subText');
const blobCore=document.getElementById('blobCore');
const blobMid=document.getElementById('blobMid');
const blobOuter=document.getElementById('blobOuter');
const blobGlow=document.getElementById('blobGlow');
const blobContainer=document.getElementById('blobContainer');
const orbWrap=document.getElementById('orbWrap');

btn.addEventListener('click',()=>{
  if(state==='syncing')return;
  startAudio();
  if(state==='initial') activate();
  else deactivate();
});

function activate(){
  state='syncing';
  btn.textContent='SYNCHRONIZING...';
  btn.style.pointerEvents='none';
  orbText.textContent='SYNCHRONIZING';

  // Fade audio in
  if(gain) gain.gain.linearRampToValueAtTime(.06,audioCtx.currentTime+3);

  // Transition blob to white/pearl orb
  const tl=gsap.timeline({onComplete:()=>{
    state='active';
    btn.textContent='DEACTIVATE FIELD';
    btn.style.pointerEvents='auto';
    orbText.textContent='FIELD ACTIVE';
    subText.textContent='Deep Recovery Active • M3 + M4 + M12 Locked';
  }});

  tl.to(blobCore,{background:'radial-gradient(circle,#fff 0%,#e8e0d4 60%,transparent 100%)',duration:3,ease:'power2.inOut'},0);
  tl.to(blobMid,{background:'radial-gradient(circle,rgba(255,255,255,.6) 0%,rgba(255,240,220,.4) 50%,transparent 100%)',duration:3,ease:'power2.inOut'},0);
  tl.to(blobOuter,{background:'radial-gradient(circle,rgba(255,250,240,.35) 20%,rgba(255,200,120,.3) 55%,rgba(255,180,80,.15) 75%,transparent 100%)',duration:3,ease:'power2.inOut'},0);
  tl.to(blobGlow,{background:'radial-gradient(circle,transparent 30%,rgba(255,180,80,.22) 55%,rgba(255,140,40,.1) 70%,transparent 85%)',duration:3,ease:'power2.inOut'},0);

  // Make it rounder
  tl.to([blobCore,blobMid,blobOuter],{borderRadius:'50%',duration:3,ease:'power2.inOut'},0);

  // Increase contrast less for softer look
  tl.to(blobContainer,{filter:'blur(22px) contrast(1.15)',duration:3,ease:'power2.inOut'},0);
}

function deactivate(){
  state='syncing';
  btn.textContent='SYNCHRONIZING...';
  btn.style.pointerEvents='none';
  subText.textContent='';
  orbText.textContent='RE-CALIBRATING';

  if(gain) gain.gain.linearRampToValueAtTime(0,audioCtx.currentTime+1.5);

  const tl=gsap.timeline({onComplete:()=>{
    state='initial';
    btn.textContent='ACTIVATE FIELD';
    btn.style.pointerEvents='auto';
    // Restart morph animations by re-adding classes
    [blobCore,blobMid,blobOuter].forEach(el=>{
      el.style.borderRadius='';
      el.style.animation='none';
      el.offsetHeight; // reflow
      el.style.animation='';
    });
  }});

  tl.to(blobCore,{background:'radial-gradient(circle,#2dd4bf 0%,#0d9488 60%,transparent 100%)',duration:2,ease:'power2.inOut'},0);
  tl.to(blobMid,{background:'radial-gradient(circle,rgba(20,184,166,.5) 0%,rgba(239,68,68,.45) 50%,transparent 100%)',duration:2,ease:'power2.inOut'},0);
  tl.to(blobOuter,{background:'radial-gradient(circle,rgba(239,68,68,.3) 20%,rgba(249,115,22,.5) 55%,rgba(220,38,38,.25) 75%,transparent 100%)',duration:2,ease:'power2.inOut'},0);
  tl.to(blobGlow,{background:'radial-gradient(circle,transparent 35%,rgba(239,68,68,.18) 55%,transparent 75%)',duration:2,ease:'power2.inOut'},0);
  tl.to(blobContainer,{filter:'blur(18px) contrast(1.4)',duration:2,ease:'power2.inOut'},0);
}
</script>
</body>
</html>
