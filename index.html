<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Deep Recovery Pad</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0a0a0a;--fg:#e8e8e8;--dim:#444;--accent:#c8ff00;--accent2:#00e0ff;
--mono:'SF Mono','Fira Code','Consolas',monospace;
--thin:-apple-system,'Helvetica Neue','Inter',sans-serif;
}
html,body{height:100%;background:var(--bg);color:var(--fg);font-family:var(--thin);overflow:hidden;-webkit-tap-highlight-color:transparent}
body{display:flex;align-items:center;justify-content:center;position:relative}
body::before{content:'';position:fixed;inset:0;background:
repeating-linear-gradient(0deg,transparent,transparent 59px,rgba(255,255,255,.02) 59px,rgba(255,255,255,.02) 60px),
repeating-linear-gradient(90deg,transparent,transparent 59px,rgba(255,255,255,.02) 59px,rgba(255,255,255,.02) 60px);
pointer-events:none;z-index:0}

.device{width:100%;max-width:420px;padding:48px 28px;position:relative;z-index:1;min-height:100dvh;display:flex;flex-direction:column;justify-content:center}

.label{font-family:var(--mono);font-size:10px;letter-spacing:.25em;text-transform:uppercase;color:var(--dim);line-height:1}
.value{font-family:var(--mono);font-size:14px;color:var(--fg);line-height:1}

/* Header */
.header{text-align:center;margin-bottom:56px}
.product-name{font-weight:200;font-size:28px;letter-spacing:.15em;text-transform:uppercase;margin-bottom:6px}
.product-sub{font-family:var(--mono);font-size:10px;letter-spacing:.3em;color:var(--dim);text-transform:uppercase}

/* Status row */
.status-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:48px}
.status-dot{width:6px;height:6px;border-radius:50%;background:var(--dim);display:inline-block;margin-right:8px;vertical-align:middle}
.status-dot.active{background:var(--accent);animation:pulse-dot 2s ease-in-out infinite}
.status-dot.complete{background:var(--accent2);animation:none}
@keyframes pulse-dot{0%,100%{opacity:1}50%{opacity:.3}}

/* Body state */
.body-state{text-align:center;margin-bottom:48px}
.state-title{font-weight:200;font-size:42px;letter-spacing:.08em;margin-bottom:8px}
.state-sub{font-family:var(--mono);font-size:11px;color:var(--dim);letter-spacing:.15em;text-transform:uppercase}

/* Metrics */
.metrics{margin-bottom:48px}
.metric{display:flex;justify-content:space-between;align-items:baseline;padding:14px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.metric:last-child{border-bottom:none}
.metric-val{font-family:var(--mono);font-size:13px;text-align:right}
.metric-val.degraded{color:#ff4444}
.metric-val.improving{color:#ffaa00}
.metric-val.optimal{color:var(--accent)}

/* Progress module card */
.module-card{border:1px solid rgba(255,255,255,.06);padding:20px;margin-bottom:48px;opacity:0;display:none}
.module-card.visible{display:block}
.module-name{font-family:var(--mono);font-size:11px;letter-spacing:.2em;color:var(--accent);text-transform:uppercase;margin-bottom:12px}
.module-progress{font-weight:200;font-size:36px;margin-bottom:6px}
.module-desc{font-size:13px;color:var(--dim);font-weight:300;line-height:1.5}

/* Progress bar */
.progress-track{height:1px;background:rgba(255,255,255,.06);margin-bottom:48px;position:relative;display:none}
.progress-fill{height:1px;background:var(--accent);width:0%;transition:width .3s}

/* Buttons */
.actions{text-align:center;margin-top:auto;padding-top:24px}
.btn{font-family:var(--mono);font-size:11px;letter-spacing:.2em;text-transform:uppercase;background:none;border:1px solid rgba(255,255,255,.15);color:var(--fg);padding:16px 32px;cursor:pointer;transition:all .3s;-webkit-user-select:none;user-select:none;display:inline-block;min-width:200px;position:relative;overflow:hidden}
.btn:active{background:rgba(255,255,255,.05)}
.btn.primary{border-color:var(--accent);color:var(--accent)}
.btn.primary:active{background:rgba(200,255,0,.05)}
.btn+.btn{margin-top:12px}
.btn.hidden{display:none}

/* Depleted badge */
.depleted{font-family:var(--mono);font-size:10px;letter-spacing:.3em;color:var(--accent2);text-transform:uppercase;text-align:center;margin-bottom:24px;opacity:0}

/* Glow effect */
.glow{position:fixed;top:50%;left:50%;width:300px;height:300px;transform:translate(-50%,-50%);border-radius:50%;background:radial-gradient(circle,rgba(200,255,0,.03),transparent 70%);pointer-events:none;opacity:0;z-index:0}

/* Fade utility */
.fade-out{opacity:0;transition:opacity .4s}
</style>
</head>
<body>
<div class="glow" id="glow"></div>
<div class="device" id="device">

  <div class="header">
    <div class="product-name">Deep Recovery Pad</div>
    <div class="product-sub">M3 · M4 · M12</div>
  </div>

  <div class="status-row">
    <div>
      <span class="label">SYS.STATUS</span><br>
      <span class="value" id="status-val"><span class="status-dot" id="status-dot"></span>STANDBY</span>
    </div>
    <div style="text-align:right">
      <span class="label">DOSE</span><br>
      <span class="value" id="dose-val">01 / 30</span>
    </div>
  </div>

  <div class="body-state" id="body-state">
    <div class="state-title" id="state-title">ENTROPY</div>
    <div class="state-sub" id="state-sub">Internal Dissonance High</div>
  </div>

  <div class="metrics" id="metrics">
    <div class="metric">
      <span class="label">Sleep Debt</span>
      <span class="metric-val degraded" id="m-sleep">CRITICAL</span>
    </div>
    <div class="metric">
      <span class="label">Tissue Stress</span>
      <span class="metric-val degraded" id="m-tissue">ELEVATED</span>
    </div>
    <div class="metric">
      <span class="label">Cell Energy</span>
      <span class="metric-val degraded" id="m-energy">DEPLETED</span>
    </div>
  </div>

  <div class="module-card" id="module-card">
    <div class="module-name" id="mod-name">M3 — Sleep Repair</div>
    <div class="module-progress" id="mod-pct">0%</div>
    <div class="module-desc" id="mod-desc">Recalibrating circadian signaling</div>
  </div>

  <div class="progress-track" id="progress-track">
    <div class="progress-fill" id="progress-fill"></div>
  </div>

  <div class="depleted" id="depleted-badge">PAD CYCLE DEPLETED</div>

  <div class="actions" id="actions">
    <button class="btn primary" id="btn-start" onclick="startRecovery()">Initialize Recovery</button>
    <button class="btn hidden" id="btn-reset" onclick="resetCycle()">Reset Cycle</button>
    <button class="btn primary hidden" id="btn-replenish" onclick="replenish()">Replenish Pad</button>
  </div>

</div>

<script>
const $ = id => document.getElementById(id);
const statusVal = $('status-val'), statusDot = $('status-dot'), doseVal = $('dose-val');
const stateTitle = $('state-title'), stateSub = $('state-sub');
const mSleep = $('m-sleep'), mTissue = $('m-tissue'), mEnergy = $('m-energy');
const moduleCard = $('module-card'), modName = $('mod-name'), modPct = $('mod-pct'), modDesc = $('mod-desc');
const progressTrack = $('progress-track'), progressFill = $('progress-fill');
const btnStart = $('btn-start'), btnReset = $('btn-reset'), btnReplenish = $('btn-replenish');
const depletedBadge = $('depleted-badge'), glow = $('glow');

const modules = [
  { name:'M3 — Sleep Repair', desc:'Recalibrating circadian signaling', metric:mSleep, mid:'REPAIRING', end:'RESTORED' },
  { name:'M4 — Tissue Recovery', desc:'Reducing inflammation markers', metric:mTissue, mid:'REDUCING', end:'NOMINAL' },
  { name:'M12 — Mitochondria Energy', desc:'Regenerating cellular ATP output', metric:mEnergy, mid:'CHARGING', end:'OPTIMAL' }
];

function startRecovery(){
  btnStart.classList.add('hidden');
  statusDot.classList.add('active');
  statusVal.innerHTML = '<span class="status-dot active" id="status-dot"></span>OPTIMIZING';
  stateTitle.textContent = 'RECOVERY';
  stateSub.textContent = 'Modules Activating';
  progressTrack.style.display = 'block';
  moduleCard.classList.add('visible');
  gsap.to(glow, {opacity:1, duration:1});
  gsap.to(moduleCard, {opacity:1, duration:.5});

  let dose = 1;
  const totalDuration = 18;
  const phaseTime = totalDuration / 3;

  // Dose counter
  const doseInterval = setInterval(()=>{
    if(dose<30){dose++;doseVal.textContent=String(dose).padStart(2,'0')+' / 30'}
  }, (totalDuration*1000)/29);

  // Progress bar
  gsap.to(progressFill, {width:'100%', duration:totalDuration, ease:'none'});

  // Run modules sequentially
  let phase = 0;
  function runPhase(){
    if(phase >= modules.length){clearInterval(doseInterval);finish();return}
    const m = modules[phase];
    modName.textContent = m.name;
    modDesc.textContent = m.desc;
    gsap.fromTo(moduleCard,{opacity:0},{opacity:1,duration:.4});

    // Animate percentage
    let p = {v:0};
    gsap.to(p, {v:100, duration:phaseTime, ease:'power1.inOut', onUpdate:()=>{
      modPct.textContent = Math.round(p.v)+'%';
    }});

    // Metric mid-update
    setTimeout(()=>{
      m.metric.textContent = m.mid;
      m.metric.className = 'metric-val improving';
    }, phaseTime*500);

    // Metric final
    setTimeout(()=>{
      m.metric.textContent = m.end;
      m.metric.className = 'metric-val optimal';
      phase++;
      runPhase();
    }, phaseTime*1000);
  }
  runPhase();
}

function finish(){
  doseVal.textContent = '30 / 30';
  statusVal.innerHTML = '<span class="status-dot complete"></span>COMPLETE';
  stateTitle.textContent = 'RESTORED';
  stateSub.textContent = 'All Systems Nominal';
  gsap.to(moduleCard, {opacity:0, duration:.4, onComplete:()=>moduleCard.classList.remove('visible')});
  gsap.to(glow, {opacity:0, duration:1});
  gsap.to(depletedBadge, {opacity:1, duration:.6, delay:.3});
  btnReset.classList.remove('hidden');
  btnReplenish.classList.remove('hidden');
  gsap.fromTo(btnReset,{opacity:0},{opacity:1,duration:.5,delay:.4});
  gsap.fromTo(btnReplenish,{opacity:0},{opacity:1,duration:.5,delay:.6});
}

function resetCycle(){
  btnReset.classList.add('hidden');
  btnReplenish.classList.add('hidden');
  progressTrack.style.display = 'none';
  progressFill.style.width = '0%';
  depletedBadge.style.opacity = 0;
  statusVal.innerHTML = '<span class="status-dot"></span>STANDBY';
  doseVal.textContent = '01 / 30';
  stateTitle.textContent = 'ENTROPY';
  stateSub.textContent = 'Internal Dissonance High';
  mSleep.textContent = 'CRITICAL'; mSleep.className = 'metric-val degraded';
  mTissue.textContent = 'ELEVATED'; mTissue.className = 'metric-val degraded';
  mEnergy.textContent = 'DEPLETED'; mEnergy.className = 'metric-val degraded';
  btnStart.classList.remove('hidden');
  gsap.fromTo(btnStart,{opacity:0},{opacity:1,duration:.4});
}

function replenish(){
  alert('Redirecting to replenishment…');
}
</script>
</body>
</html>
